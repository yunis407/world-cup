(self.webpackChunk=self.webpackChunk||[]).push([[3896],{51897:(e,t,n)=>{var a=n(25682),i="chrome-extension://__MSG_@@extension_id__/",l="moz-extension://__MSG_@@extension_id__/",o="safari-web-extension://__MSG_@@extension_id__/",r=self.GR_RESOURCE_ROOT||i,s=self.GR_RESOURCE_ROOT||l,c=self.GR_RESOURCE_ROOT||o;e.exports={__css:a.toString().replace(new RegExp(i,"g"),r).replace(new RegExp(l,"g"),s).replace(new RegExp(o,"g"),c),...a.locals}},20271:(e,t,n)=>{n.d(t,{I:()=>c,O:()=>a});var a,i=n(27378),l=n(41572),o=n(88056),r=n(19429),s=n(35407);!function(e){e.Context=i.createContext(o.Y.invariantContent("AssistantTextResources")),e.holder=r.VF((()=>({setGoalsTooltip:"Set goals to get tailored writing suggestions",proofitTooltip:"Expert writing help"})))}(a||(a={}));const c=s.Pj(s.GG({denali:l.m.holder,assistant:a.holder}))((()=>({denali:{}})))},88462:(e,t,n)=>{n.r(t),n.d(t,{createCitationBuilderViewModel:()=>y});var a=n(57050),i=n(5802),l=n(41966);const o={priority:i.P.Priority.low,timeout:i.P.DefaultTimeout,position:i.P.Position.bottomLeft,viewType:i.P.ViewType.standard};var r;!function(e){e.createFactory=function(){return{citationCopied:l.r.createBuilder().build(o),turnedOff:l.r.createBuilder().build(o),intextCopied:l.r.createBuilder().build(o),feedbackSubmitted:l.r.createBuilder().build(o)}}}(r||(r={}));var s=n(6312);const c={type:s.D.ViewType.Default,elements:{backButton:!1,styleSelector:!0,feedbackIcon:!0}};var d=n(40327),m=n(36596);function u(e){var t,n;if(self.navigator&&self.navigator.clipboard&&self.navigator.clipboard.write){const t=new Blob([e],{type:"text/html"}),n=new Blob([e.replace(/<\/?\w+>/gm,"")],{type:"text/plain"}),a=new ClipboardItem({"text/html":t,"text/plain":n});navigator.clipboard.write([a])}else{const a=document.createElement("div");a.innerHTML=e,a.style.position="fixed",a.style.pointerEvents="none",a.style.opacity="0",document.body.appendChild(a),null===(t=self.getSelection())||void 0===t||t.removeAllRanges();const i=document.createRange();i.selectNode(a),null===(n=self.getSelection())||void 0===n||n.addRange(i),document.execCommand("copy"),document.body.removeChild(a)}}var p=n(83078),g=n(5114);var v=n(24441);const b=(e,t)=>({notify:(n,a,i)=>{a.forEach((({type:a})=>{switch(a){case"notify":n===v._&&t.popActiveView();break;case"closeCard":e()}}))},activeView:t.activeView});var h=n(70026),f=n(61813),E=n(55415),w=n(38983);function y(e,t,n,i){let l=[];const o=w.h.create(s.D.State.citeSource),v=()=>o.set(s.D.State.citeSource),y=()=>o.set(s.D.State.citeSourceDisabled),C=new h.A(s.D.View.defaultView,s.D.View.defaultView),F=new f.y(w.h.create([]),r.createFactory(),1,5e3),k=b(v,C),S=((e,t,n,a)=>({domain:e,disablePermanently:t,disableForSession:n,openWindow:a}))(e.domain,(()=>{n.citePopupButtonDisable(n.domain,"permanent",n.sessionId,"citation-builder");l.push({dispose:()=>{e.disableCitationBuilder()},id:"disableOnDispose"}),y(),F.enqueue("turnedOff").subscribe((t=>{"shown"!==t&&(e.disableCitationBuilder(),l=l.filter((({id:e})=>"disableOnDispose"!==e)))}))}),(()=>{n.citePopupButtonDisable(n.domain,"session",n.sessionId,"citation-builder"),y()}),(()=>(n.citePopupButtonClick(n.domain,n.sessionId),o.set(s.D.State.showWindow)))),_=(e=>({citationStyle:e.style,sourceType:e.parsedCitation.view((e=>e.kind)),setCitationStyle:t=>{e.setStyle(t)}}))(t),x=((e,t,n,i,l,o)=>{const r=[];return{fullCitation:e.fullCitation,missingFields:e.currentlyMissingFields.view((0,a.ls)(g.map((e=>e.length)),g.getOrElse((()=>0)))),editingEnabled:l.editing,copyFullCitation:()=>{(0,d.pipe)(e.fullCitation.get(),g.map(m.GenerationModel.Utils.generatedCitationToRtf),p.bw((e=>{u(e),r.push(t.enqueue("citationCopied").subscribe()),n()}))),i.citeCopyButtonClick(e.style.get(),i.domain,i.sessionId,e.parsedCitation.get().kind)},copyInTextCitation:()=>{(0,d.pipe)(e.inTextCitation.get(),g.map((e=>({citation:e,rtf:m.GenerationModel.Utils.generatedCitationToRtf(e)}))),p.bw((({citation:e,rtf:a})=>{u(a),r.push(t.enqueue("intextCopied",{params:{citation:e}}).subscribe()),n()}))),i.citeCopyIntextClick(e.style.get(),i.domain,i.sessionId,e.parsedCitation.get().kind)},goToAllFieldsEditingView:()=>{l.editing&&(o.pushActiveView({type:s.D.ViewType.EditCitation,elements:{backButton:!0,styleSelector:!1,feedbackIcon:!0}}),i.citePopupEditClick(i.domain,i.sessionId))},goToMissingFieldsView:()=>{l.editing&&(o.pushActiveView({type:s.D.ViewType.AddMissingInformation,elements:{backButton:!0,styleSelector:!1,feedbackIcon:!0}}),i.citePopupEditClick(i.domain,i.sessionId))},missingFieldsPromptShown:()=>{i.citePopupMissingInfoShow(i.domain,i.sessionId)},dispose:()=>{r.forEach((e=>e.unsubscribe()))}}})(t,F,v,n,i,C);l.push(x);const B=((e,t,n)=>({fullCitation:e.editedFullCitation,currentInput:e.currentInput,commitInput:()=>{e.commitInput(),t.replaceActiveView(c),n.citePopupEditSuccess(n.domain,n.sessionId)},discardInput:()=>{e.cancelInput(),t.replaceActiveView(c)},fieldsMissedInParsing:e.fieldsMissedInParsing,currentlyMissingFields:e.currentlyMissingFields,invalidEditingFields:e.invalidEditingFields,requiredKeyFields:e.requiredKeyFields,secondaryFields:e.secondaryFields,goToAllFieldsEditingView:()=>t.pushActiveView({type:s.D.ViewType.EditCitation,elements:{backButton:!0,styleSelector:!1,feedbackIcon:!0}})}))(t,C,n),I=((e,t,n,a)=>{const i=[];return{domain:e.domain,submitFeedback(l,o,r){e.feedbackSentButtonClick((o||"")+(void 0===r?"":` - ${r}`),"citationBuilder",l),i.push(n.enqueue("feedbackSubmitted").subscribe()),a(),t.popActiveView()},dispose(){i.forEach((e=>e))}}})(n,C,F,v);l.push(I);const N=(0,a.zG)(e,E.H6("onboardingSeen","setOnboardingSeen"));return{citation:e.citation,state:o,router:C,header:k,gButton:S,styleTypeSelector:_,citationView:x,citationEditingView:B,feedbackView:I,notificationManager:F,onboarding:N,gnar:n,features:i,dispose(){l.forEach((e=>e.dispose()))}}}},6312:(e,t,n)=>{n.d(t,{D:()=>a});var a,i=n(20817);!function(e){let t,n,a,l;!function(e){e.citeSource="citeSource",e.citeSourceDisabled="citeSourceDisabled",e.showWindow="showWindow"}(t=e.State||(e.State={})),function(e){e.Default="Default",e.EditCitation="EditCitation",e.AddMissingInformation="AddMissingInformation",e.Feedback="Feedback"}(n=e.ViewType||(e.ViewType={})),function(e){e.defaultView={type:n.Default,elements:{backButton:!1,styleSelector:!0,feedbackIcon:!0}};const t={backButton:!0,styleSelector:!1,feedbackIcon:!0};e.editView={type:n.EditCitation,elements:t},e.addMissingView={type:n.AddMissingInformation,elements:t};e.feedbackView={type:n.Feedback,elements:{backButton:!0,styleSelector:!1,feedbackIcon:!1}}}(a=e.View||(e.View={})),function(e){e.nullableStringFieldLens=function(e){return i.Ri.create((t=>String(t[e]||"")),((t,n)=>({...n,[e]:""===t?void 0:t})))},e.nullableNumberFieldLens=function(e){return i.Ri.create((t=>String(t[e]||"")),((t,n)=>{if(""===t)return{...n,[e]:void 0};const a=Number(t);return String(a)===t&&a>=0&&Math.ceil(a)===a?{...n,[e]:a}:n}))},e.nullableArrayLens=function(){return i.Ri.create((e=>e||[]),(e=>0===e.length?void 0:e))},e.nullableCitationDateLens=function(){return i.Ri.create((e=>e||{}),(e=>void 0===e.year&&null==e.month&&void 0===e.day?void 0:e))}}(l=e.Lenses||(e.Lenses={}))}(a||(a={}))},4846:(e,t,n)=>{n.r(t),n.d(t,{CitationBuilderView:()=>st});var a=n(27378),i=n(6312);const l={title:"Generate citations",subTitle:a.createElement(a.Fragment,null,"You can now automatically generate a citation for the resource you're viewing."),button:"Got it"},o="How do you like this auto-citations tool?",r="Thank you for your feedback!",s=e=>a.createElement(a.Fragment,null,"Hide ",a.createElement("b",null,"Get citation")," button for ",e,"?"),c="Yes, for now",d="Yes, always",m="No auto-citation available for this page.",u="Copy",p="Copy in-text citation",g="Edit citation",v={accessedDate:"Date Accessed",actors:"Actor",artists:"Artist",authors:"Author",bibleBook:"Book",bibleChapter:"Chapter",bibleVerses:"Verse(s)",bibleVersion:"Version",city:"City",conferenceTitle:"Conference Title",database:"Database",directors:"Director",dissertationType:"Dissertation Type",doi:"DOI",edition:"Edition",editors:"Editors",imageDescription:"Description",imageSource:"Source",imageType:"Type",inTextPagesCited:"In-text Page(s)",inTextTimeStamp:"In-text Timestamp",issue:"Issue",lectureType:"Lecture Type",location:"Location",movieLength:"Length",pagesRange:"Page(s)",periodicalTitle:"Periodical Title",publicationCity:"Publication City",publicationNumber:"Publication Number",publisher:"Publisher",publishingDate:"Publishing Date",publishingYear:"Year",onlineResourceType:"Online Resource Type",organization:"Organization",studio:"Studio",timestamp:"Timestamp",title:"Title",translators:"Translators",websiteName:"Website Name",university:"University",url:"URL",username:"Username",venue:"Venue",volume:"Volume"};var b=n(50790),h=n(26554);const f={citationCopied:()=>a.createElement(w,null),turnedOff:()=>a.createElement(F,null),intextCopied:e=>a.createElement(C,{citation:e.args.params.citation}),feedbackSubmitted:()=>a.createElement(y,null)},E=({children:e})=>a.createElement("div",{className:h.contentWrapper},e),w=()=>a.createElement(E,null,a.createElement(b.DI.Content,null,"Citation copied to clipboard")),y=()=>a.createElement(E,null,a.createElement(b.DI.Content,null,r)),C=({citation:e})=>a.createElement(E,null,a.createElement(b.DI.Content,null,"“",e.result.reduce(((e,t,n)=>{if(40===e.length)return e;const i=e.length+t.value.length>40,l=i?t.value.substring(0,40-e.length):t.value;return{length:Math.min(40,e.length+t.value.length),result:[...e.result,a.createElement("span",{key:n},t.isPlaceholder?a.createElement("b",null,l):t.italicize?a.createElement("i",null,l):a.createElement("span",null,l),i&&a.createElement(a.Fragment,null,"…"))]}}),{length:0,result:[]}).result,"” copied")),F=()=>a.createElement(E,null,a.createElement(b.DI.TitledContent,{title:"Grammarly Citation turned off"},"To turn it back on go to",a.createElement("br",null)," Browser toolbar → Grammarly."));var k=n(47861);const S=({manager:e})=>a.createElement(k.i,{manager:e,theme:{grid:{container:h.container,bottomLeft:h.bottomLeft,bottomRight:h.bottomRight,top:h.top},view:{wrapper:h.notificationWrapper}},views:f});var _=n(57050),x=n(79867),B=n(90361),I=n(5114),N=n(71249),T=n(95195),D=n(5739),M=n(94205),A=n(64757),P=n(61922),V=n(1509),R=n(66672),G=n(12187);const L=({title:e,width:t,children:n})=>a.createElement(D.F.div,{className:"full"===t?M.citationFormFullWidthItem:"auto"===t?M.citationFormAutoWidthItem:M.citationFormHalfWidthItem},a.createElement(V.Z.Small,{className:M.citationFormLabel},e),n),O=({value:e,onChange:t,title:n,placeholder:i,width:l,validationFailed:o})=>a.createElement(L,{title:n,width:l},a.createElement(R.B2,{value:e||"",onChange:e=>t(e.currentTarget.value||void 0),placeholder:i,...(0,G.Sh)(M.citationFormInput,null==o?void 0:o.view((e=>e&&M.validationFailed)))})),z=({value:e,title:t,placeholder:n,width:i,validationFailed:l})=>a.createElement(L,{title:t,width:i},a.createElement(R.II,{value:e,placeholder:n,...(0,G.Sh)(M.citationFormInput,null==l?void 0:l.view((e=>e&&M.validationFailed)))})),W=({value:e,title:t,validationFailed:n})=>{const i=(t,n)=>e.modify((e=>{const a=[...e];return a.splice(t,1,n),a}));return a.createElement("div",{className:M.citationFormCombinedInputContainer},a.createElement(D.F.Fragment,null,e.view((l=>l.length>0?l.map(((o,r)=>a.createElement(a.Fragment,{key:`${r}-${l.length}`},a.createElement(O,{value:o.firstName,onChange:e=>i(r,{...o,firstName:e||""}),title:`${t} first name`,validationFailed:n}),a.createElement(O,{value:o.lastName,onChange:e=>i(r,{...o,lastName:e||""}),title:`${t} last name`,validationFailed:n}),a.createElement(A.zx.Ghost,{name:"remove-contributor",onClick:()=>{return t=r,e.modify((e=>{const n=[...e];return n.splice(t,1),n}));var t},className:M.removeButton},a.createElement(P.JO.Cross,null)),a.createElement("div",{className:M.flexWrapDelimiter})))):a.createElement(V.Z.Small,{className:M.emptyAuthorsInputLabel},t)))),a.createElement("div",null,a.createElement(A.zx.Ghost,{name:"add-contributor",onClick:()=>e.modify((e=>[...e,{firstName:"",lastName:""}])),className:M.verticallySeparatedButton},a.createElement(P.JO.New,null),"Add ",t)))};var H=n(37896),U=n(18813),Y=n(8125);const Z=({value:e,validationFailed:t})=>a.createElement(U.L,{name:"month",label:a.createElement(A.zx.Flat,{...(0,G.Sh)(M.monthDropdownLabel,null==t?void 0:t.view((e=>e&&M.validationFailed))),name:"month-dropdown",onClick:Y.Q1},a.createElement(D.F.span,{style:{flex:1}},e.view((e=>void 0===e?"Month":H.lQ[e-1]))),a.createElement(P.JO.Arrow,{direction:P.n4.down})),appearanceBehavior:"mouseClick",customPosition:{top:"bottom",left:"auto"},showDelay:0,theme:{dropdownContainer:M.monthDropdownContainer,dropdownList:M.monthDropdownList}},a.createElement("div",{className:M.monthDropdownListContent},a.createElement(A.zx.Flat,{name:"month-dropdown-empty",onClick:()=>e.set(void 0)},a.createElement(V.Z.Base,null,"Month")),H.lQ.map(((t,n)=>a.createElement(A.zx.Flat,{name:`month-dropdown-${t}`,onClick:()=>e.set(n+1),key:t},a.createElement(V.Z.Base,{style:{flex:1}},t)))))),q=({value:e,title:t,validationFailed:n})=>{const l=e.lens(i.D.Lenses.nullableCitationDateLens());return a.createElement("div",{className:M.citationFormCombinedInputContainer},a.createElement("div",null,a.createElement(V.Z.Small,{className:M.citationFormLabel},t),a.createElement(Z,{value:l.lens("month"),validationFailed:n})),a.createElement(z,{value:l.lens(i.D.Lenses.nullableNumberFieldLens("day")),title:"Day",width:"auto",placeholder:"DD",validationFailed:n}),a.createElement(z,{value:l.lens(i.D.Lenses.nullableNumberFieldLens("year")),title:"Year",width:"auto",placeholder:"YYYY",validationFailed:n}))};var J=n(2844),K=n(91969),j=n(77176),$=n(93508),Q=n(38983);const X=(e,t,n,a,i)=>{const l=Q.h.create(n(e.get()));return{textValue:J.aj([l.pipe(K.A()),e.pipe(K.A())]).pipe(j.U((([e,i])=>{const l=t(e.value),o=i.value,r=a(I.toUndefined(l),o);return i.timestamp>e.timestamp&&!r?n(o):e.value})),$.O("")),validationFailed:Q.h.combine(i||Q.h.create(!1),l,((e,n)=>e||(0,_.zG)(n,t,I.isNone))),onUserInput:n=>{const a=t(n||"");l.set(n||""),e.set(I.toUndefined(a))}}},ee=({viewModel:e,title:t,placeholder:n,width:i})=>a.createElement(O,{value:e.textValue,placeholder:n,title:t,width:i,onChange:e.onUserInput,validationFailed:e.validationFailed});var te=n(58028);const ne=(e,t)=>X(e,(e=>{const t=e.replace(" ","").split(",").map((e=>{const t=e.split("-");return""===t[0]?null:{startPage:t[0],endPage:t[1]||void 0}})).filter((e=>null!==e));return I.some(t.length>0?t:void 0)}),(e=>{var t;return(null===(t=null==e?void 0:e.map((e=>e.endPage?`${e.startPage}-${e.endPage}`:e.startPage)))||void 0===t?void 0:t.join(", "))||""}),((e,t)=>(null==e?void 0:e.length)===(null==t?void 0:t.length)&&(0,_.zG)(N.$R(e,t),N.yW((([e,t])=>te.vZ(e,t))))),t),ae=({value:e,title:t,width:n,validationFailed:i})=>a.createElement(ee,{viewModel:ne(e,i),placeholder:"1-2, A1, ii-xi",title:t,width:n}),ie=e=>void 0===e?"00":e<10?`0${e}`:e,le=(e,t)=>X(e,(e=>{if(""===e)return I.some(void 0);const t=e.split(":").map(Number).map((e=>Number.isNaN(e)||e<0?void 0:e));return(0,_.zG)(t,N.yW((e=>void 0===e)))?I.some(void 0):t.length<=3?I.some({hour:t[t.length-3],minute:t[t.length-2],second:t[t.length-1]||0}):I.none}),(e=>void 0===e?"":e.hour?`${e.hour}:${ie(e.minute)}:${ie(e.second)}`:e.minute?`${e.minute}:${ie(e.second)}`:`0:${e.second}`),te.vZ,t),oe=({value:e,title:t,width:n,validationFailed:i})=>a.createElement(ee,{viewModel:le(e,i),placeholder:"1-2, A1, ii-xi",title:t,width:n}),re=["string","number","pages","timestamp"],se=["title"],ce=({fields:e,editingInput:t,invalidFields:n,width:l})=>{const o=e=>n.view((0,_.ls)(I.map((t=>t.includes(e))),I.getOrElse((()=>!1))));return a.createElement(a.Fragment,null,e.map((([e,n])=>{switch(n){case"string":case"number":return a.createElement(z,{title:v[e],value:t.lens("string"===n?i.D.Lenses.nullableStringFieldLens(e):i.D.Lenses.nullableNumberFieldLens(e)),width:l,validationFailed:o(e),key:e});case"authors":return a.createElement(W,{title:v[e],value:t.lens(e).lens(i.D.Lenses.nullableArrayLens()),validationFailed:o(e),key:e});case"date":return a.createElement(q,{value:t.lens(e),title:v[e],validationFailed:o(e),key:e});case"pages":return a.createElement(ae,{key:e,value:t.lens(e).lens(i.D.Lenses.nullableArrayLens()),title:v[e],validationFailed:o(e),width:l});case"timestamp":return a.createElement(oe,{key:e,value:t.lens(e),title:v[e],validationFailed:o(e),width:l});default:(0,B.vE)(n)}})))},de=({fields:e,editingInput:t,invalidFields:n})=>a.createElement(D.F.div,{className:M.citationFormContainer},e.view((0,_.ls)(I.map((0,_.ls)(N.UI((e=>[e,x.Tk.EditingInputFieldTypes[e]])),N.tV((e=>se.includes(e[0])||!re.includes(e[1])?T.t$(e):T.F2(e))),(({left:e,right:i})=>a.createElement(D.F.Fragment,null,a.createElement(ce,{fields:e,editingInput:t,invalidFields:n,width:"full"}),a.createElement(ce,{fields:i,editingInput:t,invalidFields:n,width:"half"}))))),I.toUndefined)));var me=n(87776),ue=n(25262),pe=n(42097);const ge=({citation:e})=>a.createElement("div",{className:pe.fullCitationPreview},a.createElement(D.F.div,{className:pe.fullCitationText},e.result.map(((e,t)=>a.createElement(V.Z,{key:e.value+String(t),styleType:V.Z.Type.Base,nodeType:"span",className:pe.citationText},e.italicize?a.createElement("i",null,e.value):e.value))))),ve=({missingFields:e,viewModel:t})=>(a.useEffect((()=>{t.missingFieldsPromptShown()}),[]),a.createElement("div",{className:pe.citationFooter},a.createElement("span",{className:pe.missingIconContainer},a.createElement(me.a,{color:ue.Z.yellow60})),e," missing fields",a.createElement("span",{className:pe.reviewMissingDot},"·"),a.createElement(A.zx.Ghost,{name:"reviewMissing",className:pe.reviewMissing,onClick:t.goToMissingFieldsView},"Review"))),be=({viewModel:e})=>a.createElement(D.F.div,{className:pe.citationContainer},e.fullCitation.view(I.fold((()=>a.createElement("p",{className:pe.errorState},m)),(t=>a.createElement(D.F.Fragment,null,a.createElement("div",{className:pe.citationBody},a.createElement(ge,{citation:t}),a.createElement("div",{className:pe.buttonsContainer},a.createElement(A.zx.Group,{sticky:!0,className:pe.buttonsGroup},a.createElement(A.zx.Primary,{name:"copyCitation",className:pe.copyButton,onClick:e.copyFullCitation.bind(e)},u),a.createElement(U.L,{name:"citationMenu",label:a.createElement(A.zx.White,{name:"menu",className:pe.moreButton},a.createElement(P.JO.EllipsisSmall,{className:pe.moreIcon})),align:"right",vAlign:"top",showDelay:0,appearanceBehavior:"mouseClick"},a.createElement(A.zx.Flat,{name:"copyInText",onClick:e.copyInTextCitation.bind(e)},p),e.editingEnabled&&a.createElement(A.zx.Flat,{name:"editCitation",onClick:e.goToAllFieldsEditingView},g))))),e.missingFields.view((t=>e.editingEnabled&&t>0&&a.createElement(ve,{viewModel:e,missingFields:t}))))))));var he=n(16833);const fe=({viewModel:e})=>{const t=Q.h.create(!1);return a.createElement("div",null,a.createElement(D.F.div,{className:he.citationPreviewContainer},e.fullCitation.view(I.fold((()=>a.createElement("p",{className:pe.errorState},"Error generating citation.")),(e=>a.createElement(ge,{citation:e}))))),a.createElement(D.F.div,{className:he.citationFormsContainer},t.view((n=>a.createElement(D.F.Fragment,null,a.createElement(de,{fields:e.requiredKeyFields,editingInput:e.currentInput,invalidFields:e.invalidEditingFields}),e.secondaryFields.view((e=>(0,_.zG)(e,I.map(N.Od),I.getOrElse(_.jv))&&a.createElement(A.zx.Tertiary,{name:"show-secondary",onClick:()=>t.modify((e=>!e)),className:he.verticallySeparatedButton},n?a.createElement(a.Fragment,null,"Hide additional fields ",a.createElement(P.JO.Arrow,{direction:P.n4.up})):a.createElement(a.Fragment,null,"Show additional fields ",a.createElement(P.JO.Arrow,{direction:P.n4.down}))))),n&&a.createElement(a.Fragment,null,a.createElement(de,{fields:e.secondaryFields,editingInput:e.currentInput,invalidFields:e.invalidEditingFields}),a.createElement("div",{ref:e=>null==e?void 0:e.scrollIntoView()})))))),a.createElement(D.F.div,{className:he.actionButtonsContainer},a.createElement(A.zx.Primary,{name:"save",onClick:e.commitInput},"Save"),a.createElement(A.zx.Ghost,{name:"cancel",onClick:e.discardInput},"Cancel")))};var Ee=n(50202),we=n(22249);const ye=({color:e=ue.Z.neutral0})=>a.createElement("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.431 4h1.138c.16 0 .288.13.288.288 0 1.37 1.68 2.031 2.65 1.063a.294.294 0 0 1 .413-.002l.731.73c.114.115.112.3-.002.415-.968.968-.307 2.649 1.063 2.649.159 0 .288.129.288.288v1.138c0 .16-.13.288-.288.288-1.37 0-2.031 1.68-1.063 2.65.114.113.116.3.002.413l-.73.731a.294.294 0 0 1-.415-.002c-.968-.968-2.649-.307-2.649 1.063 0 .159-.129.288-.288.288H9.43a.288.288 0 0 1-.288-.288c0-1.37-1.68-2.031-2.65-1.063a.293.293 0 0 1-.413.002l-.731-.73a.294.294 0 0 1 .002-.415c.968-.968.307-2.649-1.063-2.649A.288.288 0 0 1 4 10.57V9.43c0-.16.13-.288.288-.288 1.37 0 2.031-1.68 1.063-2.65a.294.294 0 0 1-.002-.413l.73-.731a.294.294 0 0 1 .415.002c.968.968 2.649.307 2.649-1.063 0-.159.129-.288.288-.288ZM10 12.308a2.308 2.308 0 1 0 0-4.616 2.308 2.308 0 0 0 0 4.616Z",fill:e}));var Ce=n(52238);const Fe=({viewModel:e,disabled:t})=>{const[n,i]=a.useState(!1),l=()=>i(!1),o=(0,Ee.N)({processGbuttonBlur:l,processGbuttonHover:()=>i(!0)},600,1200);return a.createElement(D.F.div,{className:Ce.citationGButtonContainer,...o.handlers,"data-grammarly-part":"citation-button"},!t&&a.createElement("div",{className:Ce.citationGButtonSettingsContainer},a.createElement(U.L,{name:"disableCitationBuilder",label:a.createElement(Se,{onClick:(0,_.ls)(l,o.reset.bind(o)),visible:n}),align:"left",vAlign:"top",appearanceBehavior:"mouseClick",theme:{dropdownList:Ce.dropdownContainer},showDelay:0},a.createElement(ke,{viewModel:e}))),a.createElement("div",{...(0,G.Sh)(t&&Ce.disabledCitationGButton,Ce.citationGButton),onClick:t?Y.Q1:(0,_.ls)(l,o.reset.bind(o),e.openWindow.bind(e))},a.createElement(we.V,{size:28}),a.createElement("span",null,"Get citation")))},ke=({viewModel:e})=>a.createElement(a.Fragment,null,a.createElement(V.Z.Small,{className:Ce.disableMenuText},s(e.domain)),a.createElement(A.zx.Flat,{name:"thisSessionDisable",onClick:e.disableForSession.bind(e)},c),a.createElement(A.zx.Flat,{name:"thisSessionDisable",onClick:e.disablePermanently.bind(e)},d)),Se=({onClick:e,visible:t})=>a.createElement("div",{...(0,G.Sh)(Ce.citationGButtonSettings,t?Ce.visible:Ce.hidden),onClick:e},a.createElement(ye,null));var _e=n(57635),xe=n(24441),Be=n(29417),Ie=n(83412);const Ne=({vm:e})=>a.createElement(U.L,{name:"citationBuilderSettings",label:a.createElement(Be.l,{size:"small",enableTooltip:!0,className:Ie.settingsButton}),align:"right",vAlign:"bottom",showDelay:0,closeDelay:0,theme:{dropdownList:Ie.dropdownContainer},appearanceBehavior:"mouseClick"},a.createElement(ke,{viewModel:e.gButton}));var Te=n(24606),De=n(80895),Me=n(84017),Ae=n(54210),Pe=n(47661);const Ve=["apa","mla","chicago"],Re=e=>"mla"===e||"apa"===e?e.toUpperCase():e.charAt(0).toUpperCase()+e.slice(1),Ge=({vm:e})=>a.createElement(U.L,{name:"styleTypeSelector",label:a.createElement(Te.z,{includePadding:!1,kind:"transparent-hoverable",className:Pe.selectorButton},a.createElement(De.C,{title:"beta"}),a.createElement("span",{className:Pe.selectorButtonLabel},a.createElement(D.F.span,null,e.citationStyle.view(Re))," · ",a.createElement(D.F.span,{className:Pe.sourceTypeLabel},e.sourceType)),a.createElement(P.JO.Arrow,null)),align:"right",vAlign:"bottom",appearanceBehavior:"mouseClick",showDelay:0,closeDelay:0},a.createElement("div",{className:Pe.dropdownContainer},a.createElement(V.Z.Small,null,"Style"),a.createElement(Ae.zx.Group,{sticky:!0,className:Pe.styleButtonGroup},Ve.map((t=>a.createElement(Ae.zx.White,{name:t,key:t,active:e.citationStyle.view((e=>e===t)),className:Pe.styleButton,onClick:()=>e.setCitationStyle(Me.KC.Style[t])},Re(t)))))));var Le=n(1620),Oe=n(22679),ze=n(3860),We=n(20855),He=n(26720),Ue=n.n(He);const Ye=({enableTooltip:e=!1,size:t="medium",...n})=>a.createElement(We.u,{message:"Feedback",showDelay:Oe.gk,disabled:!e},a.createElement(ze.h,{...n},a.createElement("div",{...(0,G.Sh)("small"===t?Ue().feedbackButtonSmallIcon:null,"medium"===t?Ue().feedbackButtonMediumIcon:null)})));var Ze=n(87965),qe=n(42103),Je=n(89076);const Ke=e=>e.router.activeView.view((t=>a.createElement(xe.h,{notify:e.header.notify,activeView:t}))),je=({children:e,vm:t})=>a.createElement(Ze.p,null,a.createElement(qe.G.DefaultProvider,null,a.createElement(_e.V,{includeContentPadding:!1,dataGrammarlyPart:"citation-window",headerContent:Ke(t),className:Je.citationBuilderWindow},a.createElement(D.F.div,{className:Je.citationBuilderHeaderActions},a.createElement($e,{vm:t})),a.createElement("div",{className:Je.citationBuilderWindowContent},e)))),$e=({vm:e})=>a.createElement(D.F.Fragment,null,e.router.activeView.view((t=>a.createElement(a.Fragment,null,t.elements.styleSelector&&a.createElement(Ge,{vm:e.styleTypeSelector}),t.elements.feedbackIcon&&a.createElement(Ye,{size:"small",onClick:()=>e.router.pushActiveView(i.D.View.feedbackView)}),a.createElement(Ne,{vm:e}),a.createElement(Le.P,{className:Je.citationBuilderCloseButton,onClick:()=>e.header.notify("close",[{type:"closeCard"}],{alertRef:I.none}),tooltipMessage:"Close Citation Builder"})))));var Qe=n(53844);const Xe=({viewModel:e})=>a.createElement("div",{style:{paddingTop:"12px"}},a.createElement(Qe.q5,{withScore:!0,onSubmit:t=>{e.submitFeedback(t.score,t.text,t.domain)},title:a.createElement("span",null,o),hideTextBoxTitle:!0,hideLogo:!0,hideDomainHelpText:!0,showPostSubmitScreen:!1,submitButtonKind:"primary",domain:e.domain}));var et=n(98467);const tt=({viewModel:e})=>a.createElement("div",null,a.createElement(D.F.div,{className:he.citationPreviewContainer},e.fullCitation.view(I.fold((()=>a.createElement("p",{className:pe.errorState},"Error generating citation.")),(e=>a.createElement(ge,{citation:e}))))),a.createElement(D.F.div,{className:he.citationFormsContainer},a.createElement("p",{className:et.missingInformationHeader},"Missing Information"),a.createElement(de,{fields:e.fieldsMissedInParsing,editingInput:e.currentInput,invalidFields:e.invalidEditingFields})),a.createElement(D.F.div,{className:he.actionButtonsContainer},a.createElement(A.zx.Primary,{name:"save",onClick:e.commitInput},"Save"),a.createElement(A.zx.Ghost,{name:"cancel",onClick:e.discardInput},"Cancel"),a.createElement("div",{className:he.flexSeparator}),a.createElement(A.zx.Tertiary,{name:"show-all",onClick:e.goToAllFieldsEditingView},"Show all fields")));var nt=n(86133),at=n(53238);const it=({children:e,viewModel:t})=>{const n=()=>{t.setOnboardingSeen()};return a.useEffect((()=>n),[]),a.createElement(D.F.Fragment,null,t.onboardingSeen.view((t=>a.createElement(nt.J2,{mainContent:a.createElement(lt,{onClose:n}),isOutsideReferenceElement:!1,theme:"dark",placement:"top-start",includeMainContentPadding:!1,style:{zIndex:1,marginLeft:"2px"},headerIcon:"new-magic-badge",onClose:n,size:"medium",distanceFromReferenceElement:16,closeButton:e=>a.createElement(Le.P,{onClick:e,id:at.citationOnboardingCloseButton}),show:!t},a.createElement("div",null,e)))))},lt=({onClose:e})=>a.createElement("div",{className:at.onboardingContent},a.createElement("div",{className:at.onboardingTitle},l.title),a.createElement("div",null,l.subTitle),a.createElement("div",{className:at.onboardingGotIt},a.createElement(A.zx.Ghost,{name:"citationBuilderOnboardingGotIt",onClick:e},l.button)));var ot=n(22232),rt=n(23398);const st=e=>a.createElement("div",{className:rt.citationBuilderMainContainer},a.createElement(D.F.Fragment,null,(e=>{const t=(0,B.hz)((()=>{e.gnar.citePopupButtonShow(e.gnar.domain,e.gnar.sessionId)}));return e.state.view((n=>{switch(n){case i.D.State.citeSource:return t(),a.createElement(it,{viewModel:e.onboarding},a.createElement(Fe,{viewModel:e.gButton,disabled:!1}));case i.D.State.citeSourceDisabled:return a.createElement(Fe,{viewModel:e.gButton,disabled:!0});case i.D.State.showWindow:return a.createElement(je,{vm:e},a.createElement(D.F.div,null,e.router.activeView.view((t=>{switch(t.type){case i.D.ViewType.Default:return a.createElement(be,{viewModel:e.citationView});case i.D.ViewType.EditCitation:return a.createElement(fe,{viewModel:e.citationEditingView});case i.D.ViewType.AddMissingInformation:return a.createElement(tt,{viewModel:e.citationEditingView});case i.D.ViewType.Feedback:return a.createElement(Xe,{viewModel:e.feedbackView});default:return(0,ot.vE)(t)}}))));default:(0,ot.vE)(n)}}))})(e.viewModel)),a.createElement(S,{manager:e.viewModel.notificationManager}))},7635:(e,t,n)=>{n.r(t),n.d(t,{CitationBuilderIntegrationLayout:()=>u});var a=n(27378),i=n(20271),l=n(41263),o=n(18505),r=n(2780),s=n(68383),c=n(86620),d=n(33678),m=n(41572);class u{render(e,t,n){const u=(0,i.I)(m.m.getConfig(n.config.systemInfo.os.isMac?"mac":"windows")),p=self.document,g=o.VB.get({monitorAs:"citation-builder"}).inject(r.EM.fromDocument(self.document,"grammarly-citation-builder"),r.zs.appendChild(p.documentElement),s.G7.showWhenLoaded(a.createElement((()=>a.createElement("div",{style:{position:"fixed",bottom:"32px",left:"17px",zIndex:9999,"--rem":16}},a.createElement(d.a.Context.Provider,{value:new c.C},a.createElement(m.m.Context.Provider,{value:u.denali},a.createElement(a.Suspense,{fallback:a.createElement(a.Fragment,null)},a.createElement(l.L,{chunkName:"citationBuilderIntegration"},a.createElement(e,{viewModel:t}))))))),null)));return{dispose:()=>g.dispose()}}}},70026:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(38983);class i{constructor(e,t){this._viewHistory=[],this._startupPlaceHolder=e,this._activeView=a.h.create(this._startupPlaceHolder),this._defaultView=t}get activeView(){return this._activeView.view()}get lastView(){return this._viewHistory[this._viewHistory.length-1]||this._defaultView}pushActiveView(e){const t=this._activeView.get();e.type!==t.type&&(t.type!==this._startupPlaceHolder.type&&this._viewHistory.push(t),this._activeView.set(e))}popActiveView(){const e=this._viewHistory.pop()||this._defaultView;this._activeView.set(e)}replaceActiveView(e){e.type!==this._activeView.get().type&&this._activeView.set(e)}}},86620:(e,t,n)=>{n.d(t,{C:()=>c,U:()=>a});var a,i=n(27378),l=n(29511),o=n(33678),r=n(88056),s=n(95574);!function(e){let t;!function(e){e.isAppleSystem="isAppleSystem"}(t=e.SidebarFlag||(e.SidebarFlag={})),e.Flag={...t,...o.a.Flag},e.Context=i.createContext(r.Y.invariantContent("Environment"))}(a||(a={}));class c{constructor(e=(0,l.O)()){this._flags=new Set,this.actions={openUrl:e=>s.vM((()=>{document.location.href=e.toString()})),openPopup:e=>s.vM((()=>{const t=self.open(e.toString(),void 0,"noreferrer");t&&(t.opener=null)}))},e.config.systemInfo.os.isMac&&this._flags.add(a.Flag.isAppleSystem),this._flags.add(a.Flag.supportsSVGDominantBaseline),this._flags.add(a.Flag.onlyTrustedEvents)}has(e){return this._flags.has(e)}}},57635:(e,t,n)=>{n.d(t,{V:()=>m});var a=n(27378),i=n(22679),l=n(20855),o=n(3860),r=n(29758),s=n(12187),c=n(5739),d=n(12267);const m=({draggableRef:e,headerContent:t,className:n,children:m,includeContentPadding:u,footer:p,dataGrammarlyPart:g="single-card-assistant",onHeightChange:v})=>{const[b,h]=a.useState(0),[f,E]=a.useState(0),[w,y]=a.useState(0),C=a.useRef(null),F=a.useRef(null),k=a.useRef(null);a.useEffect((()=>{null==v||v(b+f+w)}),[b,f,w]);const S=a.useRef(null);a.useEffect((()=>{var e;return C.current?(null===(e=S.current)||void 0===e||e.disconnect(),S.current=r.N.getResizeObserver((()=>{C.current&&h(C.current.getBoundingClientRect().height)})),S.current.observe(C.current)):h(0),()=>{var e;return null===(e=S.current)||void 0===e?void 0:e.disconnect()}}),[C.current]);const _=a.useRef(null);a.useEffect((()=>{var e;return F.current?(null===(e=_.current)||void 0===e||e.disconnect(),_.current=r.N.getResizeObserver((()=>{F.current&&E(F.current.getBoundingClientRect().height)})),_.current.observe(F.current)):E(0),()=>{var e;return null===(e=_.current)||void 0===e?void 0:e.disconnect()}}),[F.current]);const x=a.useRef(null);return a.useEffect((()=>{var e;return k.current?(null===(e=x.current)||void 0===e||e.disconnect(),x.current=r.N.getResizeObserver((()=>{k.current&&y(k.current.getBoundingClientRect().height)})),x.current.observe(k.current)):y(0),()=>{var e;return null===(e=x.current)||void 0===e?void 0:e.disconnect()}}),[p,k.current]),a.useEffect((()=>{F.current&&(F.current.scrollTop=0)}),[F.current,f]),a.createElement("div",{...(0,s.Sh)(d.singleCardAssistant,n),"data-grammarly-part":g},a.createElement("div",{"data-grammarly-part":g+"-header",...(0,s.Sh)(d.singleCardAssistantHeader,e?d.singleCardAssistantHeaderDraggable:null),ref:t=>{C.current=t,null==e||e(t)}},a.createElement(c.F.Fragment,null,t)),a.createElement("div",{"data-grammarly-part":g+"-content",...(0,s.Sh)(d.singleCardAssistantContent,u?d.singleCardAssistantContentWithPadding:null),ref:F},m),p?a.createElement("div",{"data-grammarly-part":g+"-footer",className:d.singleCardAssistantFooter,ref:k,onClick:()=>p.onClick()},a.createElement("div",{className:d.singleCardAssistantFooterText},p.content),a.createElement(l.u,{message:p.tooltip,showDelay:i.gk},a.createElement(o.h,{onClick:()=>p.onClick()},a.createElement("div",{className:d.singleCardAssistantFooterButtonIcon})))):null)}},24441:(e,t,n)=>{n.d(t,{_:()=>m,h:()=>u});var a=n(27378),i=n(6312),l=n(3860),o=n(5114),r=n(12187),s=n(79880),c=n(86068);const d=e=>a.createElement(l.h,{...e},a.createElement("div",{className:c.backIcon})),m="back-button",u=({notify:e,activeView:t})=>a.createElement("div",{...(0,r.Sh)(c.citationBuilderHeader)},a.createElement("div",{className:c.headerContent},t.type===i.D.ViewType.Default&&a.createElement("div",{className:c.logoIcon}),t.elements.backButton&&a.createElement(a.Fragment,null,a.createElement(d,{onClick:()=>e(m,[{type:"notify",userAction:s.nz.Click}],{alertRef:o.none})}),a.createElement("div",{className:c.title},function(e){switch(e.type){case i.D.ViewType.AddMissingInformation:return"Add missing information";case i.D.ViewType.EditCitation:return"Edit citation";case i.D.ViewType.Feedback:return"Provide Feedback";default:return""}}(t)))))},80895:(e,t,n)=>{n.d(t,{C:()=>o});var a=n(27378),i=n(12187),l=n(12935);const o=({kind:e="primary",dataGrammarlyPart:t="ui-kit-badge",title:n,boldTitle:o=!1,className:r,...s})=>a.createElement("div",{"data-grammarly-part":t,...(0,i.Sh)(l.badge,r,"primary"===e?l.badgePrimary:null,"success"===e?l.badgeSuccess:null,"gold"===e?l.badgeGold:null,"error"===e?l.badgeError:null,s.rounded?l.badgeRounded:null,!s.rounded||s.size&&"small"!==s.size?null:l.badgeRoundedSmall,s.rounded&&"medium"===s.size?l.badgeRoundedMedium:null,s.rounded&&"large"===s.size?l.badgeRoundedLarge:null)},a.createElement("div",{...(0,i.Sh)(l.badgeTitle,o?l.badgeTitleBold:null)},n))},29417:(e,t,n)=>{n.d(t,{l:()=>d});var a=n(27378),i=n(22679),l=n(3860),o=n(20855),r=n(12187),s=n(75100),c=n.n(s);const d=({enableTooltip:e=!1,size:t="medium",...n})=>a.createElement(o.u,{message:"Settings",showDelay:i.gk,disabled:!e},a.createElement(l.h,{...n},a.createElement("div",{...(0,r.Sh)("small"===t?c().settingsButtonSmallIcon:null,"medium"===t?c().settingsButtonMediumIcon:null)})))},31944:(e,t,n)=>{n.d(t,{J:()=>d});var a=n(57050),i=n(27378),l=n(90845),o=n(60797),r=n(2834),s=n(12187),c=n(22536);const d=({onChange:e,labelId:t,className:n,checkboxClassName:d,labelClassName:m,checked:u,children:p,disabled:g,useDS:v,dataGrammarlyPart:b="ui-kit-checkbox",tabIndex:h=0,onMount:f=a.Q1})=>{const[E,w]=i.useState(null!=u&&u);i.useEffect((()=>{w(Boolean(u))}),[u]);const y=t=>{t.preventDefault(),t.stopPropagation(),w(!E),null==e||e(!E)},{ref:C,onMount:F}=l.P.useElWatcher();return i.useEffect((()=>{const e=C.pipe(o.oA,r.b(f)).subscribe();return()=>e.unsubscribe()}),[]),i.createElement("div",{"data-grammarly-part":b,...(0,s.Sh)(c.checkboxContainer,n)},i.createElement("div",{...(0,s.Sh)(c.checkbox,d,E?c.checkboxChecked:null,v?c.checkboxDS:null),role:"checkbox","aria-checked":E,tabIndex:h,"aria-labelledby":t,onKeyDown:e=>{" "===e.key&&y(e)},onClick:g?a.Q1:y,ref:F},E?i.createElement("div",{className:c.checkboxCheckmark}):null),i.createElement("label",{id:t,onClick:y,className:m},p))}},26315:(e,t,n)=>{n.d(t,{z:()=>c});var a=n(27378),i=n(31542);const l=({children:e,style:t,dataGrammarlyPart:n="ui-kit-iframe",...l})=>{const[o,r]=a.useState(null),s=a.useCallback((e=>{var t,n;let a=null;"contentDocument"in e.target&&(a=null!==(n=null===(t=e.target.contentDocument)||void 0===t?void 0:t.body)&&void 0!==n?n:null),r(a),a&&(a.style.margin="0",a.style.height="100vh")}),[]);return a.createElement("iframe",{...l,style:{border:"none",...t},onLoad:s,srcDoc:"<html><body></body></html>","data-grammarly-part":n},o&&(0,i.createPortal)(e,o))};var o=n(68370),r=n(51897),s=n.n(r);const c=({placeholder:e,onChange:t,ariaLabel:n,className:i})=>{const[r,c]=a.useState("");return a.useEffect((()=>{t(r)}),[r]),a.createElement(l,{dataGrammarlyPart:"ui-kit-textbox",className:i,style:{width:"100%",height:"100%"}},a.createElement(o.b,null,s().__css),a.createElement("div",{role:"textbox",className:s().textBox,contentEditable:!0,onInput:e=>c(e.target.innerText),"data-placeholder":e,"aria-placeholder":e,"aria-label":n}))}},87776:(e,t,n)=>{n.d(t,{a:()=>l});var a=n(27378),i=n(25262);const l=({color:e})=>a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z",fill:null!=e?e:i.Z.red50}),a.createElement("path",{d:"M8.94827 4H7.05196L7.22242 10.1108H8.78208L8.94827 4ZM8.00225 12.8381C8.5477 12.8381 9.02071 12.3821 9.02498 11.8153C9.02071 11.2571 8.5477 10.8011 8.00225 10.8011C7.43975 10.8011 6.97526 11.2571 6.97952 11.8153C6.97526 12.3821 7.43975 12.8381 8.00225 12.8381Z",fill:i.Z.neutral0}))},53844:(e,t,n)=>{n.d(t,{q5:()=>g,dK:()=>p});var a=n(27378),i=n(12187),l=n(21420);const o=({options:e,onChange:t=(()=>null),ariaLabel:n,className:o})=>{const r=[],[s,c]=a.useState(null);a.useEffect((()=>{var n;null!==s&&(null===(n=r[s])||void 0===n||n.focus()),t(null!==s?e[s].value:null)}),[s]);const d=null!==s?e[s]:null;return a.createElement("div",{"data-grammarly-part":"ui-kit-radio-group",className:o},a.createElement("div",{className:l.radioGroup,role:"radiogroup","aria-label":n,onKeyDown:t=>{if(" "!==t.key||d){if("ArrowRight"===t.key||"ArrowDown"===t.key){t.preventDefault(),t.stopPropagation();c(((s||0)+1)%e.length)}else if("ArrowLeft"===t.key||"ArrowUp"===t.key){t.preventDefault(),t.stopPropagation();const n=(s||0)-1;c(n<0?e.length-1:n)}}else t.preventDefault(),t.stopPropagation(),c(0)}},e.map(((e,t)=>{const n=(null==d?void 0:d.value)===e.value,o=0===t;return a.createElement("div",{key:e.value,...(0,i.Sh)(l.radioGroupOption,n?l.radioGroupOptionSelected:null),role:"radio",tabIndex:n||o&&!d?0:-1,"aria-checked":n,onClick:e=>{e.preventDefault(),e.stopPropagation(),c(t)},ref:e=>r.push(e)},e.render())}))))};var r,s=n(24606),c=n(26315),d=n(31944),m=n(51217),u=n(44544);function p(e){return"score"in e}!function(e){e.bad="bad",e.ok="ok",e.good="good"}(r||(r={}));const g=({hideLogo:e=!1,align:t="center",fixSubmitButtonOverflowBottomPadding:n=!1,...l})=>{var p;const g=[r.bad,r.ok,r.good],[v,b]=a.useState(null),[h,f]=a.useState(""),[E,w]=a.useState(!1),[y,C]=a.useState(!1);let F;return F=y&&!1!==l.showPostSubmitScreen?a.createElement("div",{"data-grammarly-part":"surveys-feedback-form-thank-you",...(0,i.Sh)(m.feedbackFormContainer,m.feedbackFormContainerAlignCenter)},a.createElement("div",{className:m.feedbackFormSuccessMessageTextContainer},a.createElement("div",{className:m.feedbackFormSuccessMessageIcon}),a.createElement("div",{className:m.feedbackFormSuccessMessageTitle},"Thank you!"),a.createElement("div",{className:m.feedbackFormSuccessMessageSubtitle},"Your feedback helps us improve.")),a.createElement(s.z,{className:m.feedbackFormSubmitButton,kind:"success",type:"submit",onClick:l.onClose},"Done"),n?a.createElement("div",{className:m.feedbackFormSubmitButtonFixOverflowBottomPadding},a.createElement("div",{className:m.feedbackFormSubmitButtonFixOverflowBottomPaddingChild})):null):a.createElement("div",{"data-grammarly-part":"surveys-feedback-form-fields",...(0,i.Sh)(m.feedbackFormContainer,"center"===t?m.feedbackFormContainerAlignCenter:null)},a.createElement("div",{className:m.feedbackFormFields},e?null:a.createElement("div",{className:m.feedbackFormLogo}),l.hideTitle?null:a.createElement("div",{...(0,i.Sh)(m.feedbackFormTitle,l.compactDisplay?m.compact:null)},l.title||a.createElement("span",null,"How do you like ",a.createElement("br",null)," Grammarly?")),l.withScore?a.createElement(a.Fragment,null,a.createElement(o,{ariaLabel:"Feedback Score",options:g.map((e=>({value:e,render(){let t,n;return e===r.bad?(t=u.feedbackFormOptionIconDisheartening,n="I dislike it"):e===r.ok?(t=u.feedbackFormOptionIconNeutral,n="It’s OK"):(t=t=u.feedbackFormOptionIconSmiling,n="I like it"),a.createElement("div",{className:u.feedbackFormOption},a.createElement("div",{...(0,i.Sh)(u.feedbackFormOptionIcon,t)}),a.createElement("div",null,n))}}))),onChange:b,...(0,i.Sh)(m.feedbackFormScore,l.compactDisplay?m.compact:null)}),l.hideTextBoxTitle?null:a.createElement("div",{className:m.feedbackFormTextBoxTitle},"Anything we can improve?")):null,a.createElement(c.z,{onChange:f,placeholder:l.placeholderText||"Your thoughts here",ariaLabel:"Feedback Text",...(0,i.Sh)(m.feedbackFormTextBox,l.compactDisplay?m.compact:null)}),l.domain?a.createElement(a.Fragment,null,l.hideDomainHelpText?null:a.createElement("div",{className:m.feedbackFormShareDomainTitle},"Help improve Grammarly by sharing the domain you’re on:"),a.createElement(d.J,{labelId:"feedback-form-share-domain-checkbox",onChange:w,className:m.feedbackFormShareDomainCheckbox},"Include the domain ",a.createElement("b",null,l.domain)," with my feedback")):null),a.createElement(s.z,{className:m.feedbackFormSubmitButton,kind:null!==(p=l.submitButtonKind)&&void 0!==p?p:"success",type:"submit",disabled:l.withScore?!v:!h,onClick:()=>{var e,t;l.withScore&&v?(null===(e=l.onSubmit)||void 0===e||e.call(l,{score:v,text:h,domain:E?l.domain:void 0}),C(!0)):!l.withScore&&h&&(null===(t=l.onSubmit)||void 0===t||t.call(l,{text:h,domain:E?l.domain:void 0}),C(!0))}},"Submit"),n?a.createElement("div",{className:m.feedbackFormSubmitButtonFixOverflowBottomPadding},a.createElement("div",{className:m.feedbackFormSubmitButtonFixOverflowBottomPaddingChild})):null),a.createElement("div",{style:l.style,"data-grammarly-part":"surveys-feedback-form"},F)}},25682:(e,t,n)=>{var a=n(93476)((function(e){return e[1]}));a.push([e.id,"._380Y1-textBox{font-family:grInter,sans-serif;font-style:normal;font-weight:normal;color:#0e101a;font-size:14px;line-height:21px;font-feature-settings:'ss03' on;background:#f9faff;border:1px solid #e7e9f5;box-sizing:border-box;border-radius:4px;padding:10px 8px;overflow-y:auto;cursor:text;width:100%;height:100%;}._380Y1-textBox:empty:before{font-feature-settings:'ss03' on;font-family:grInter,sans-serif;font-style:normal;font-weight:normal;color:#6d758d;font-size:14px;line-height:21px;content:attr(data-placeholder)}",""]),a.locals={textBox:"_380Y1-textBox"},e.exports=a},23398:e=>{e.exports={citationBuilderMainContainer:"_9DBYz"}},12267:e=>{e.exports={singleCardAssistant:"_29x5a",singleCardAssistantHeader:"eFwvd",singleCardAssistantHeaderDraggable:"_3wYqZ",singleCardAssistantContent:"_1r3xI",singleCardAssistantContentWithPadding:"Jgq6x",singleCardAssistantFooter:"_23i2M",singleCardAssistantFooterText:"mTIL9",singleCardAssistantFooterButtonIcon:"FJI7I",spin:"_2z-hC"}},94205:e=>{e.exports={citationFormInput:"_3SIsS",validationFailed:"_2Vv7s",citationFormContainer:"_2ckC1",citationFormFullWidthItem:"_36Gnq",citationFormHalfWidthItem:"WZXtC",citationFormAutoWidthItem:"_2fRSq",citationFormCombinedInputContainer:"xeiX7",flexWrapDelimiter:"_2qkE_",verticallySeparatedButton:"_3uCZX",citationFormLabel:"_1Bq8s",emptyAuthorsInputLabel:"_2_LHL",removeButton:"R1l-n",monthDropdownLabel:"_3XF8u",monthDropdownContainer:"h0NRt",monthDropdownList:"_2B-xk",monthDropdownListContent:"_1rON1"}},16833:e=>{e.exports={citationPreviewContainer:"_2RsUk",citationFormsContainer:"Q0H9k",flexSeparator:"_1kW7Y",verticallySeparatedButton:"_3rFWP",actionButtonsContainer:"qRiYm"}},52238:e=>{e.exports={citationGButtonContainer:"RxGxN",citationGButtonSettings:"_3vwBC",visible:"_3IWfc",hidden:"_3gzHg",citationGButtonSettingsContainer:"_1tBtJ",citationGButton:"bGjU_",disabledCitationGButton:"_3SdFJ",settingsIcon:"_1Csco",disableMenuText:"_2D-wy",dropdownContainer:"_13yWM",spin:"_2Pfa1"}},42097:e=>{e.exports={citationContainer:"NlnT4",citationBody:"_1kMWy",citationFooter:"_2RIcc",errorState:"_3WuK_",fullCitationPreview:"VNiYQ",fullCitationText:"cnmSA",buttonsContainer:"_1-FSO",buttonsGroup:"_14uc7",moreButton:"_3LhGV",moreIcon:"_1Ipzl",copyButton:"_1f50k",citationText:"_2OGV5",reviewMissingDot:"_3J775",reviewMissing:"_36FoB",missingIconContainer:"_1wCS8"}},89076:e=>{e.exports={actions_hovered:"Bw4og",header:"mIo8B",draggableWrapper:"_1nGgR",draggable:"_2Ch-o",headerActions:"_3-GGd",citationBuilderHeaderActions:"_2eNe4",headerActionBtnProofitIcon:"jsMFu",headerActionBtnGoalsIcon:"_3YDXy",logoscore_fadein:"_2xVpz",fadein:"_1ASm3",logoscore_fadeout:"_2jd79",fadeout:"_3h50u",logo_score:"_2IyIe",styleTypeSelectorContainer:"_2rZ-8",citationBuilderCloseButton:"_2cxv7",citationBuilderWindow:"_3q0j4",citationBuilderWindowContent:"_176hq",spin:"_1PrXI"}},86068:e=>{e.exports={actions_hovered:"_26D5B",header:"_28Fzg",citationBuilderHeader:"_2oi8Z",draggableWrapper:"dL87W",draggable:"Hq-0P",headerActions:"_1wbQt",headerActionBtnProofitIcon:"_3EU94",headerActionBtnGoalsIcon:"_2E18U",logoscore_fadein:"_6a2eQ",fadein:"_140p0",logoscore_fadeout:"_31ZjI",fadeout:"_2oJRY",logo_score:"_2ZPbj",logoIcon:"XSeHJ",backIcon:"_2U1Dg",title:"_1Q_TG",headerContent:"_2wNC8",spin:"_3zLJC"}},83412:e=>{e.exports={dropdownContainer:"AIhYK",settingsButton:"aRCR-"}},98467:e=>{e.exports={missingInformationHeader:"_3B3K_"}},26554:e=>{e.exports={container:"_2NXqS",baseGrid:"_33Dq3",bottomLeft:"_3_Hz-",bottomRight:"_3pFQm",top:"W4m1t",notificationWrapper:"_1YYiW",contentWrapper:"_2qCRr"}},53238:e=>{e.exports={onboardingContent:"_2jAI-",onboardingTitle:"_2RV7g",onboardingGotIt:"w3YRL",citationOnboardingCloseButton:"_1qMrB"}},47661:e=>{e.exports={selectorButton:"_3jOE9",selectorButtonLabel:"_ovwb",sourceTypeLabel:"k80dp",dropdownContainer:"vSb5Z",styleButtonGroup:"_2VObs",styleButton:"wYzpD"}},12935:e=>{e.exports={badge:"Mora3",badgePrimary:"_1446Q",badgeSuccess:"_2FQ9t",badgeGold:"_3t7g2",badgeError:"_154CZ",badgeRounded:"_2atD_",badgeRoundedSmall:"OxUT1",badgeRoundedMedium:"_1Rehq",badgeRoundedLarge:"_1Mmea",badgeTitle:"_1imRR",badgeTitleBold:"KO4Gs"}},26720:e=>{e.exports={feedbackButtonMediumIcon:"_2yNh3",feedbackButtonSmallIcon:"_3fso6",spin:"_2wMjA"}},75100:e=>{e.exports={settingsButtonMediumIcon:"_1PPTj",settingsButtonSmallIcon:"_20Pta",spin:"_2dlxE"}},22536:e=>{e.exports={checkboxContainer:"_3bj_g",checkbox:"xrB8R",checkboxDS:"_2UTyE",checkboxChecked:"Uhddy",checkboxCheckmark:"_1qI2g",spin:"_3S_a3"}},21420:e=>{e.exports={radioGroup:"_3jZFB",radioGroupOption:"_1Boe7",radioGroupOptionSelected:"_37tnK"}},51217:e=>{e.exports={feedbackFormContainer:"_1M-GI",feedbackFormContainerAlignCenter:"_3QNrK",feedbackFormFields:"Jg_OY",feedbackFormTitle:"nPjzw",feedbackFormTextBoxTitle:"_2yUbL",feedbackFormLogo:"_2C-d7",compact:"_1wDKK",feedbackFormScore:"_3AmBq",feedbackFormTextBox:"FO2oU",feedbackFormShareDomainTitle:"_2UXTO",feedbackFormShareDomainCheckbox:"_3mSXM",feedbackFormSubmitButton:"_32xYR",feedbackFormSubmitButtonFixOverflowBottomPadding:"IJDSA",feedbackFormSubmitButtonFixOverflowBottomPaddingChild:"_3d5Tf",feedbackFormSuccessMessageTextContainer:"_2JO6Z",feedbackFormSuccessMessageIcon:"oVxds",feedbackFormSuccessMessageTitle:"_1MdvM",feedbackFormSuccessMessageSubtitle:"_1EKkw",spin:"_2ycFE"}},44544:e=>{e.exports={feedbackFormOption:"_9K_Q8",feedbackFormOptionIcon:"_259oL",feedbackFormOptionIconDisheartening:"_3NJTM",feedbackFormOptionIconNeutral:"i-5N8",feedbackFormOptionIconSmiling:"_1Dxi9",spin:"_2elyX"}}}]);