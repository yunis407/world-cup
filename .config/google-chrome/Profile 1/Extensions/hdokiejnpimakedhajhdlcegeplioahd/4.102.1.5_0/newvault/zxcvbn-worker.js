try{if("function"==typeof importScripts){try{var baseUrl=location.pathname.slice(0,-26);importScripts(baseUrl+"/zxcvbn.js"),importScripts(baseUrl+"/sjcl.js"),importScripts(baseUrl+"/sha256.js")}catch(x){try{importScripts("/zxcvbn.js"),importScripts("/sjcl.js"),importScripts("/sha256.js")}catch(x){importScripts("/js-thirdparty/zxcvbn.js"),importScripts("/js/sjcl/sjcl.js"),importScripts("/js/sha256.js")}}var startTime;function calculateStrength(x,e){if("undefined"==typeof zxcvbn)return console.error("No zxcvbn functionality available"),void sendPostMessage();var a=x?x.substring(0,50):"",s=e?e.substring(0,50).toLowerCase():"",o;return zxcvbn(a,[s,"lastpass","lastpass.com"]).score}function challengegetstrength(x,e){return 25*calculateStrength(e,x)}function challengecomputescore_async(x,e,a,i,c,s,o,n,t,r,d,l,h,v,g,u,f,p,m,_,w,y,S,b,P,O,j,M,k,T,A,U,N,D,E,R,z,C,F,L){function W(){postMessage({cmd:"report",runtimesec:void 0!==vx?vx:void 0,calcTimeMs:void 0!==startTime?(new Date).getTime()-startTime:void 0,g_totalscore:void 0!==e?e:void 0,g_aSites:void 0!==i?i:void 0,g_numsites:void 0!==c?c:0,g_numblanksites:void 0!==s?s:0,g_avgpasswordlength:void 0!==o?o:0,g_avgstrength:"undefined"!=typeof g_avgstrength?g_avgstrength:0,g_aPasswords:void 0!==n?n:{},g_MAXNUMCOMPUTESCORE:void 0!==t?t:0,g_numduppasswords:void 0!==r?r:0,g_numdupsites:void 0!==d?d:0,g_usernames:void 0!==l?l:[],WEAKPASSWORDSCORE:void 0!==h?h:50,g_strengthscore:void 0!==v?v:0,g_countscore:void 0!==g?g:0,g_numweak:void 0!==u?u:0,sharedavgstrength:void 0!==f?f:[],SharedAccounts:void 0!==p?p:[],g_runtimems:void 0!==m?m:0,sfcounts:void 0!==_?_:[],sharedstrengthscore:void 0!==w?w:[],sharedblanksites:void 0!==y?y:[],sharedweak:void 0!==S?S:[],sharedavgpasswordlength:void 0!==b?b:[],SharedPasswords:void 0!==P?P:[],sharedcountscore:void 0!==O?O:[],NonSharedAccounts:void 0!==j?j:[],g_SFNames:void 0!==M?M:[],AllSFNames:void 0!==k?k:[],sharedtotalscore:void 0!==T?T:[],g_numvulnerablesites:void 0!==A?A:0,g_allPasswords:void 0!==U?U:{},g_reuse:void 0!==N?N:void 0,g_blanksites:void 0!==D?D:void 0,g_allnumduppasswords:void 0!==E?E:0})}if(0!==e)return W(),void console.log("Not processing security score");var K,X=0,q,I,J,Z,B,G,H;for(R=void 0===R?{}:R,void 0!==i[K=void 0===x?0:x]&&void 0!==i[K].sfname&&(q=i[K].sfname),void 0===q&&(q="nonshared"),void 0===_&&(_=[]),void 0===w&&(w=[]),void 0===y&&(y=[]),void 0===S&&(S=[]),void 0===b&&(b=[]),void 0===P&&(P=[]),void 0===O&&(O=[]),void 0===j&&(j=[]),void 0===M&&(M=[]),void 0===k&&(k=[]),void 0===_[q]&&(_[q]=0),_[q]++,void 0===x&&(g_challengeregexcache=[]);K<c;++K){if("function"==typeof reportprogress&&reportprogress(K,c),q="nonshared",void 0!==i[K].sfname)var q=i[K].sfname;var Q=i[K].usernamedec,V=i[K].passworddec;V=V||"";var Y=i[K].passworddecfix,$=i[K].domain2lvl,xx=void 0!==i[K].realdomain2lvl?i[K].realdomain2lvl:$,ex=void 0!==i[K].vulnerable;void 0===s&&(s=0),void 0===A&&(A=0),void 0===y[q]&&(y[q]=0),void 0===w[q]&&(w[q]=0);var ax="function"==typeof get_sitepwlen?get_sitepwlen(xx):1,sx=C&&-1!==Object.values(C).indexOf(i[K].id);if(ex)console.log("challengecomputescore_async : Found vulnerable site domain2lvl="+$+" sfname="+q),"nonshared"==q&&++A,i[K].challenge_score=0;else if(0<V.length&&V.length<ax)i[K].challenge_score=0;else{i[K].challenge_score=challengegetstrength(Q,V);var ox=F&&-1!==Object.values(F).indexOf(i[K].realdomain2lvl);z&&(ox||sx)&&(i[K].is_excluded=!0)}if(""!=Y){if("nonshared"==q&&(o+=V.length),void 0===b[q]&&(b[q]=0),b[q]+=V.length,void 0===P[q]&&(P[q]=[]),"nonshared"==q&&!sx){void 0===n[Y]&&(n[Y]=[]),(void 0===n[Y][$]||"function"==typeof n[Y][$]&&void 0===n[Y][$].push)&&(n[Y][$]=[]);try{n[Y][$].push(K)}catch(x){return void(Y=V=Q="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx")}}if(void 0===U&&(U=[]),!sx){void 0===U[Y]&&(U[Y]=[],R[Y]=[]),(void 0===U[Y][$]||"function"==typeof U[Y][$]&&void 0===U[Y][$].push)&&(U[Y][$]=[],R[Y][$]={users:[],hasDifferentUser:!1});try{U[Y][$].push(K),R[Y][$].hasDifferentUser||R[Y][$].users.forEach(function(x){x===Q||(R[Y][$].hasDifferentUser=!0)}),R[Y][$].users.push(Q)}catch(x){return void(Y=V=Q="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx")}}if("nonshared"!=q){void 0===P[q][Y]&&(P[q][Y]=[]),(void 0===P[q][Y][$]||"function"==typeof P[q][Y][$]&&void 0===P[q][Y][$].push)&&(P[q][Y][$]=[]);try{P[q][Y][$].push(K)}catch(x){return void(Y=V=Q="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx")}}if(++X>t){var nx=null;try{"function"==typeof setTimeout?nx=setTimeout:"undefined"!=typeof LP&&void 0!==LP.mostRecent&&void 0!==LP.mostRecent().setTimeout&&(nx=LP.mostRecent().setTimeout)}catch(x){}var tx=0;return nx(function(){if(999<i.length){var x=Number(((K+1)/i.length*100).toFixed(2));Math.floor(x)==Math.ceil(x)&&console.log(x+"% score calculation done")}challengecomputescore_async(K+1,e,a,i,c,s,o,n,t,r,d,l,h,v,g,u,f,p,m,_,w,y,S,b,P,O,j,M,k,T,A,U,N,D,E,R,z,C,F,L)},0),void(Y=V=Q="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx")}Y=V=Q="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}else"nonshared"==q&&s++,y[q]++,void 0!==D&&D.push(K),Y=V=Q="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}for(H in g_challengeregexcache=[],o=c==s?0:Math.round(10*o/(c-s))/10,n)if(G=0,n.hasOwnProperty(H)){J=n[H];var rx=!1;for(var dx in J)R[H][dx].hasDifferentUser&&(rx=!0),J.hasOwnProperty(dx)&&G++;if(1==G&&!rx||""==H){if(void 0!==N)for(var ix in n[H])for(var cx in n[H][ix])delete N[n[H][ix][cx]];delete n[H]}else{for(var dx in++r,B=0,J)J.hasOwnProperty(dx)&&(B+=n[H][dx].length);for(var dx in d+=B,J)if(J.hasOwnProperty(dx))for(I in Z=n[H][dx])Z.hasOwnProperty(I)&&(K=n[H][dx][I],i[K].challenge_numduplicates=B,i[K].challenge_duplicatescore=i[K].challenge_score/G)}}function lx(x){var e,a,s,o,n,t;for(t in t="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",void 0===U&&(U={},g_allnumdupsites=c),U)if(U.hasOwnProperty(t)){a=U[t],n=0;var r=!1;for(var d in a)R[t][d].hasDifferentUser&&(r=!0),a.hasOwnProperty(d)&&++n;if(1==n&&!r||""==t)delete U[t];else{for(var d in void 0===E&&(E=0),++E,o=0,"undefined"==typeof g_allnumdupsites&&(g_allnumdupsites=0),a)a.hasOwnProperty(d)&&(o+=U[t][d].length);for(var d in g_allnumdupsites+=o,a)if(a.hasOwnProperty(d))for(var e in s=U[t][d])s.hasOwnProperty(e)&&(K=U[t][d][e],void 0!==i[K]&&x&&(i[K].challenge_numduplicates=o,i[K].challenge_duplicatescore=i[K].challenge_score/n))}}}H="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",lx(L),H="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx";var hx=0;for(K=0;K<i.length;++K)void 0!==i[K].sfname&&(q=i[K].sfname),void 0===i[K].sfname&&(q="nonshared"),void 0===S[q]&&(S[q]=0),i[K].challenge_scorefinal=i[K].challenge_score,!i[K].usernamedec||-1===i[K].usernamedec.indexOf("@")||i[K].usernamedec in l||(l[i[K].usernamedec]=[],l[i[K].usernamedec].hash=lp_sha2lib.sha256(i[K].usernamedec),l[i[K].usernamedec].link=i[K].link),void 0===i[K].challenge_dictionary||void 0===i[K].challenge_duplicatescore?void 0===i[K].challenge_dictionary?void 0===i[K].challenge_duplicatescore?(i[K].challenge_score<h&&""!=i[K].passworddecfix&&("nonshared"==q&&++u,"nonshared"!=q&&++S[q]),"nonshared"==q&&(i[K].is_excluded&&!0===i[K].is_excluded?hx++:v+=i[K].challenge_score,g_avgstrength=c==s?0:Math.round(10*v/(c-s-hx))/10,0!=j.length&&(g_avgstrength=j.length==s?0:Math.round(10*v/(j.length-s-hx))/10)),"nonshared"!=q&&(w[q]+=i[K].challenge_score,f[q]=_[q]==y[q]?0:Math.round(10*w[q]/(p[q].length-y[q]))/10),void 0===O[q]&&(O[q]=0),70<=i[K].challenge_score&&void 0===i[K].sfname&&(g+=2),70<=i[K].challenge_score&&void 0!==i[K].sfname&&(O[q]+=2)):(i[K].challenge_scorefinal=i[K].challenge_duplicatescore,void 0===i[K].sfname&&(v+=i[K].challenge_duplicatescore),void 0!==i[K].sfname&&(w[q]+=i[K].challenge_duplicatescore)):(i[K].challenge_scorefinal=.5*i[K].challenge_scorefinal,"nonshared"==q&&++u,"nonshared"!=q&&++S[q]):(i[K].challenge_scorefinal=.5*i[K].challenge_duplicatescore,"nonshared"==q&&++u,"nonshared"!=q&&++S[q]);100<g&&(g=100),100<O[q]&&(O[q]=100),void 0!==j&&0!=j.length&&(c=j.length),0<c-s&&(e=Math.round(10*(v/(c-s-hx)*.8+g/10))/10);for(var K=0;K<k.length;K++)q=k[K],void 0===p[q]&&(p[q]=[]),void 0===y[q]&&(y[q]=0),0<p[q].length-y[q]&&(T[q]=Math.round(10*(w[q]/(p[q].length-y[q])*.8+O[q]/10))/10);100<e&&(e=100),m=(new Date).getTime()-m;var vx=Math.round(m/1e3);W()}onmessage=function(x){"zxcvbn"===x.data.source&&"challengecomputescore_async"===x.data.cmd&&(startTime=(new Date).getTime(),challengecomputescore_async(x.data.curr,x.data.g_totalscore,JSON.parse(x.data.g_sites),x.data.g_aSites,x.data.g_numsites,x.data.g_numblanksites,x.data.g_avgpasswordlength,x.data.g_aPasswords,x.data.g_MAXNUMCOMPUTESCORE,x.data.g_numduppasswords,x.data.g_numdupsites,x.data.g_usernames,x.data.WEAKPASSWORDSCORE,x.data.g_strengthscore,x.data.g_countscore,x.data.g_numweak,x.data.sharedavgstrength,x.data.SharedAccounts,x.data.g_runtimems,x.data.sfcounts,x.data.sharedstrengthscore,x.data.sharedblanksites,x.data.sharedweak,x.data.sharedavgpasswordlength,x.data.SharedPasswords,x.data.sharedcountscore,x.data.NonSharedAccounts,x.data.g_SFNames,x.data.AllSFNames,x.data.sharedtotalscore,x.data.g_numvulnerablesites,x.data.g_allPasswords,x.data.g_reuse,x.data.g_blanksites,x.data.g_allnumduppasswords,x.data.equivalentDomainCheckList,x.data.isExcludeSwitchedOn,x.data.excludedPasswords,x.data.domainsForAutomaticPasswordExclude,x.data.countReusedOnSharedItems))}}else console.info("Zxcvbn-Worker initial phase done")}catch(x){console.error("inside-zxcvbn-worker",x)}